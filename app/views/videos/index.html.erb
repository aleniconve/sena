<%= render "shared/navbar" %>

<div class="container" style="padding-top: 90px;">
<% if @videos %>

  <div>
    <h3>"<%= @keyword.downcase %>"</h3>
    <p><i><%= @videos.count %> <% if @videos.count > 1 %>videos<% else %>video<% end %> found</i></p>
  </div>

  <div style="height: 12px;"></div>

  <div class="video">
  <% @videos.each do |video| %>
    <div>
      <div>
      <%= link_to video_path(video) do %>
        <%= cl_video_tag video.video.key, class: "card-img-top rounded" %>
      <% end %>
      </div>
      <div class="d-flex justify-content-start">
        <p style="font-size: 14px; font-weight: 600;"><%= video.name %></p>
      </div>
    </div>
  <% end %>
  </div>

<% else %>

  <div>
    <p><i>No results</i></p>
  </div>

  <div class="d-flex justify-content-end input-group">
    <button class="btn btn-outline-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">Browse by category</button>
    <ul class="dropdown-menu">
      <li><a class="dropdown-item" href="/videos?search=basics">Basics</a></li>
      <li><a class="dropdown-item" href="/videos?search=family">Family</a></li>
      <li><a class="dropdown-item" href="/videos?search=food">Food</a></li>
      <li><a class="dropdown-item" href="/videos?search=greetings">Greetings</a></li>
      <li><a class="dropdown-item" href="/videos?search=phrases">Phrases</a></li>
      <li><a class="dropdown-item" href="/videos?search=sports">Sports</a></li>
      <li><a class="dropdown-item" href="/videos?search=time">Time</a></li>
      <li><a class="dropdown-item" href="/videos?search=work">Work</a></li>
    </ul>
  </div>

  <div style="height: 36px;"></div>

  <div>
    <h4>Popular signs</h4>
    <div style="height: 12px;"></div>

    <div class="flex">
      <% @popular_videos.each do |video| %>
      <div style="margin-right: 12px;">
        <div class="relative">
          <%= link_to video_path(video) do %>
            <%= cl_video_tag video.video.key, class: "rounded item flex-item" %>
          <% end %>
          <div class="absolute">
          </div>
        </div>
        <div class="d-flex justify-content-start" style="width: 150px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
          <p style="font-weight: 600;"><%= video.name %></p>
        </div>
      </div>
      <% end %>
    </div>
  </div>

<% end %>
</div>

<%= render "shared/footer" %>
