<%= render "shared/navbar" %>

<div class="container" style="padding-top: 90px;">
  <div class="m-1">
    <h4><strong><%= current_user.first_name %>'s Library</strong></h4>
    <p><i><%= @folders.count %> folders</i></p>
  </div>

  <div style="height: 12px;"></div>

  <div class="folder">
    <% @folders.each do |folder| %>
      <%= link_to folder_path(folder) do %>
      <div class="card d-flex justify-content-between align-items-center bg-light" style="border-color: #DDDDDD;">
        <div class="card-body">
          <strong><%= folder.name.capitalize %></strong> (<%= folder.bookmarks.count %>)
          <%= link_to "ðŸ—‘", folder_path(folder), data: {turbo_method: :delete, turbo_confirm: "Are you sure?"} %>
        </div>
      </div>
      <% end %>
    <% end %>
  </div>

  <div style="height: 36px;"></div>

  <%= simple_form_for @folder do |f| %>
  <div class="input-group">
    <div class="input-group-prepend">
      <label class="input-group-text">Create</label>
    </div>
    <%= f.text_field :name, class: "form-control", placeholder: "New folder", :autocomplete => :off%>
    <div class="input-group-append">
      <button class="btn btn-primary" type="submit"><i class="fa-solid fa-folder-plus"></i></button>
    </div>
  </div>
  <% end %>


  <div style="height: 36px;"></div>

    <%= simple_form_for @video do |f| %>
      <div class="input-group">
        <div class="input-group-prepend">
          <label class="input-group-text">Upload</label>
        </div>
        <%= f.input :name, class: "form-control", placeholder: 'Title', :autocomplete => :off %>
        <%= f.input :video, as: :file, class: "form-control" %>
        <%= f.input :category, collection: Folder.where(user: current_user), prompt: "Select a folder", label: false, class: "form-control" %>
        <div class="input-group-append">
          <%= f.submit 'Upload', class: "form-control", id: 'fileUpload', data: { disable_with: 'Uploading' } %>
        </div>
      </div>
    <% end %>
